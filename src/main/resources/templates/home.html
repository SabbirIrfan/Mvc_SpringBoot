<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>
<body>
    <section class="container-fluid" style="padding: 20px">
        <h4 class="text-center">Hello! Welcome to the home page of products!</h4>
    
        <div class="row">
            <div th:each="product : ${productList}" class="col-md-3"> 
                <div class="card" style="height: 350px;width: 18rem; margin-bottom: 20px;">
                    <div class="card-body d-flex flex-column"> 
                        <div class="card " >
                            <img class="card-img-top" style="align-items: center; justify-content: center; height: 190px;" th:src="@{'/images/product/' + ${product.getId()} + '.png'}" alt="Card image cap">
                        </div>
                        <div class="flex-grow-1 mt-3    "> <!-- This section will grow to fill space -->
                            <h5 class="card-title" th:text="${product.getBrandName()}"></h5>
                            <p class="card-text text-truncate" th:text="${product.getProductDetail()}"></p>
                        </div>
                        <div class="mt-auto"> <!-- The button will always stay at the bottom -->
                            <a th:if="${#strings.equals(principal?.getAuthorities()?.iterator()?.next(), 'ROLE_USER')}" th:href="@{/user/buyProduct/{id}(id=${product.getId()})}" class="btn btn-primary"
                               style="display: flex; align-items: center;" th:text="'Available products: ' + ${product.getStatus()}">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
</body>
</html>

